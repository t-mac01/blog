<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Jiao</title>
    <link>https://t-mac01.github.io/blog/</link>
    <description>Recent content on Jiao</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Sun, 29 Jan 2023 23:10:26 +0800</lastBuildDate><atom:link href="https://t-mac01.github.io/blog/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>分布式任务</title>
      <link>https://t-mac01.github.io/blog/post/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1/</link>
      <pubDate>Sun, 29 Jan 2023 23:10:26 +0800</pubDate>
      
      <guid>https://t-mac01.github.io/blog/post/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1/</guid>
      <description>分布式任务执行 1、每天较定时任务提前1小时生成令牌，保存至redis中
redisTemplate.set(key,value,1,day);
​ 执行定时任务时获取令牌，并移除令牌，value=redisTemplat.opsForValue().getAndSet(key,newValue);
2、分布式锁执行定时任务
​	分布式锁工具类获取锁、检查当天是否有统计过（redis判断），防止服务器时间差重复执行
3、xxl-job
调度中心、执行器解耦
均支持分布式
动态启动、停止任务、修改任务状态
动态扩容
&amp;hellip;
思想：
调度中心负责配置数据库、web的crud、报警邮箱、调度线程池配置、调度中心日志保存
执行器负责填入调度中心的地址，多个以逗号隔开，执行器使用该地址进行‘执行器心跳注册和任务结果回调’，为空关闭注册，执行器appName、注册ip port，执行器日志保存路径及天数
任务通讯流程 1、“调度中心”向“执行器”发送http调度请求: “执行器”中接收请求的服务，实际上是一台内嵌Server，默认端口9999; 2、“执行器”执行任务逻辑； 3、“执行器”http回调“调度中心”调度结果: “调度中心”中接收回调的服务，是针对执行器开放一套API服务; 代码核心逻辑 1、分布式环境保证只有一台实例执行采用数据库的方式：for update
select * from xxl_job_lock where lock_name = &amp;#39;schedule_lock&amp;#39; for update 非spring管理的类获取spring管理的类
@Component public class XxlJobAdminConfig implements InitializingBean { private static XxlJobAdminConfig adminConfig = null; public static XxlJobAdminConfig getAdminConfig() { return adminConfig; } @Override public void afterPropertiesSet() throws Exception { adminConfig = this; } XxlJobScheduler项目启动开始执行init方法，初始化以下内容</description>
    </item>
    
    <item>
      <title>First</title>
      <link>https://t-mac01.github.io/blog/post/first/</link>
      <pubDate>Sun, 29 Jan 2023 21:16:41 +0800</pubDate>
      
      <guid>https://t-mac01.github.io/blog/post/first/</guid>
      <description>&amp;ldquo;i love you,xyy hurt!&amp;rdquo;</description>
    </item>
    
    <item>
      <title>Categories Post</title>
      <link>https://t-mac01.github.io/blog/blog/categories-post/</link>
      <pubDate>Sun, 01 Aug 2021 21:29:20 +0200</pubDate>
      
      <guid>https://t-mac01.github.io/blog/blog/categories-post/</guid>
      <description>I&amp;rsquo;m a post with multiple categories in the frontmatter:
categories = [&amp;quot;programming&amp;quot;,&amp;quot;lorem&amp;quot;,&amp;quot;pseudo&amp;quot;]Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mauris nulla, vestibulum vel auctor sed, posuere eu lorem. Aliquam consequat augue ut accumsan mollis. Suspendisse malesuada sodales tincidunt. Vivamus sed erat ac augue bibendum porta sed id ipsum. Ut mollis mauris eget ligula sagittis cursus. Aliquam id pharetra tellus. Pellentesque sed tempus risus. Proin id hendrerit ante. Vestibulum vitae urna ut mauris ultricies dignissim.</description>
    </item>
    
    <item>
      <title>Linked post</title>
      <link>https://t-mac01.github.io/blog/blog/linked-post/</link>
      <pubDate>Fri, 02 Oct 2015 21:49:20 +0200</pubDate>
      
      <guid>https://t-mac01.github.io/blog/blog/linked-post/</guid>
      <description>I&amp;rsquo;m a linked post in the menu. You can add other posts by adding the following line to the frontmatter:
menu = &amp;quot;main&amp;quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. In mauris nulla, vestibulum vel auctor sed, posuere eu lorem. Aliquam consequat augue ut accumsan mollis. Suspendisse malesuada sodales tincidunt. Vivamus sed erat ac augue bibendum porta sed id ipsum. Ut mollis mauris eget ligula sagittis cursus. Aliquam id pharetra tellus.</description>
    </item>
    
    <item>
      <title>Go is for lovers</title>
      <link>https://t-mac01.github.io/blog/blog/go-is-for-lovers/</link>
      <pubDate>Thu, 17 Sep 2015 13:47:08 +0200</pubDate>
      
      <guid>https://t-mac01.github.io/blog/blog/go-is-for-lovers/</guid>
      <description>Hugo uses the excellent go html/template library for its template engine. It is an extremely lightweight engine that provides a very small amount of logic. In our experience that it is just the right amount of logic to be able to create a good static website. If you have used other template systems from different languages or frameworks you will find a lot of similarities in go templates.
This document is a brief primer on using go templates.</description>
    </item>
    
    <item>
      <title>Hugo is for lovers</title>
      <link>https://t-mac01.github.io/blog/blog/hugo-is-for-lovers/</link>
      <pubDate>Mon, 03 Aug 2015 13:39:46 +0200</pubDate>
      
      <guid>https://t-mac01.github.io/blog/blog/hugo-is-for-lovers/</guid>
      <description>This is the summary Goto &lt;a href=&#34;https://github.com/spf13/hugo/releases&#34;&gt;hugo releases&lt;/a&gt; and download the appropriate version for your os and architecture. Save it somewhere specific as we will be using it in the next step. More complete instructions are available at &lt;a href=&#34;https://t-mac01.github.io/blog/overview/installing/&#34;&gt;installing hugo&lt;/a&gt;</description>
    </item>
    
    <item>
      <title>Creating a new theme</title>
      <link>https://t-mac01.github.io/blog/blog/creating-a-new-theme/</link>
      <pubDate>Wed, 24 Jun 2015 13:50:46 +0200</pubDate>
      
      <guid>https://t-mac01.github.io/blog/blog/creating-a-new-theme/</guid>
      <description>Introduction This tutorial will show you how to create a simple theme in Hugo. I assume that you are familiar with HTML, the bash command line, and that you are comfortable using Markdown to format content. I&amp;rsquo;ll explain how Hugo uses templates and how you can organize your templates to create a theme. I won&amp;rsquo;t cover using CSS to style your theme.
We&amp;rsquo;ll start with creating a new site with a very basic template.</description>
    </item>
    
    <item>
      <title>Contact</title>
      <link>https://t-mac01.github.io/blog/contact/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://t-mac01.github.io/blog/contact/</guid>
      <description>We are here to help you Are you curious about something? Do you have some kind of problem with our products? As am hastily invited settled at limited civilly fortune me. Really spring in extent an by. Judge but built gay party world. Of so am he remember although required. Bachelor unpacked be advanced at. Confined in declared marianne is vicinity.
Please feel free to contact us, our customer service center is working for you 24/7.</description>
    </item>
    
    <item>
      <title>FAQ</title>
      <link>https://t-mac01.github.io/blog/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://t-mac01.github.io/blog/faq/</guid>
      <description>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.
1. WHAT TO DO IF I HAVE STILL NOT RECEIVED THE ORDER? Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante.</description>
    </item>
    
    <item>
      <title>Migrate from Jekyll</title>
      <link>https://t-mac01.github.io/blog/blog/migrate-from-jekyll/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://t-mac01.github.io/blog/blog/migrate-from-jekyll/</guid>
      <description>Move static content to static Jekyll has a rule that any directory not starting with _ will be copied as-is to the _site output. Hugo keeps all static content under static. You should therefore move it all there. With Jekyll, something that looked like
▾ &amp;lt;root&amp;gt;/▾ images/logo.pngshould become
▾ &amp;lt;root&amp;gt;/▾ static/▾ images/logo.pngAdditionally, you&amp;rsquo;ll want any files that should reside at the root (such as CNAME) to be moved to static.</description>
    </item>
    
  </channel>
</rss>
